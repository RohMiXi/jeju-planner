<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Enforce sending the Origin (http://localhost:3000) as Referer -->
    <meta name="referrer" content="origin">
    <title>Naver Map Test (Referrer Fix)</title>

    <!-- Added referrerPolicy attribute -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId =0x75wo2tg3"
        referrerPolicy="origin"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: sans-serif;
        }

        #status {
            padding: 10px;
            margin-bottom: 10px;
            background: #eee;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <h1>Naver Map Diagnosis v2</h1>
    <div id="status">상태: 로딩 중...</div>
    <div id="map" style="width:100%;height:400px;border:1px solid #ccc;"></div>

    <script>
        try {
            var mapOptions = {
                center: new naver.maps.LatLng(33.3846, 126.5535),
                zoom: 10
            };
            var map = new naver.maps.Map('map', mapOptions);
            document.getElementById('status').innerHTML = '<span style="color:green">✅ 지도 초기화 성공 (잠시 후 인증 여부 확인 필요)</span>';
            document.getElementById('status').innerHTML += '<br><small>이 메시지가 뜨고 지도가 계속 보이면 성공입니다.</small>';
        } catch (e) {
            console.error(e);
            document.getElementById('status').innerHTML = '<span style="color:red">❌ 초기화 실패: ' + e.message + '</span>';
        }
    </script>
</body>

</html>